"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[796],{692:function(e,n,r){r.d(n,{BX:function(){return d},Xq:function(){return o},h2:function(){return u},p8:function(){return h},q7:function(){return l}});var t=r(4165),i=r(5861),a=r(2822),c=r(4569),s=r.n(c),o=function(e,n){return function(){var r=(0,i.Z)((0,t.Z)().mark((function r(i,c){var o,u;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().get("/api/products/".concat(e));case 2:o=r.sent,u=o.data,i(a.S.addItem({item:{product:u._id,name:u.name,image:u.image,price:u.price,countInStock:u.countInStock,qty:n}})),localStorage.setItem("cartItems",JSON.stringify(c().cartItems.items));case 6:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}()},u=function(e){return function(){var n=(0,i.Z)((0,t.Z)().mark((function n(r,i){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(a.S.removeItem({product:e})),localStorage.setItem("cartItems",JSON.stringify(i().cartItems.items));case 2:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,i.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(a.S.saveShippingAddress({data:e})),localStorage.setItem("shippingAddress",JSON.stringify(e));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var n=(0,i.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(a.S.savePaymentMethod({data:e})),localStorage.setItem("paymentMethod",JSON.stringify(e));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(){return function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(a.S.calculateTotal({}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},9796:function(e,n,r){r.r(n);var t=r(2982),i=r(885),a=r(2791),c=r(9743),s=r(2677),o=r(2592),u=r(1398),l=r(9140),d=r(3855),h=r(3360),f=r(2351),m=r(6871),x=r(3504),v=r(2058),Z=r(9434),p=r(4694),j=r(7624),g=r(692),b=r(184);n.default=function(){var e=(0,a.useState)(1),n=(0,i.Z)(e,2),r=n[0],I=n[1],S=(0,a.useState)(0),w=(0,i.Z)(S,2),y=w[0],k=w[1],C=(0,a.useState)(""),N=(0,i.Z)(C,2),P=N[0],R=N[1],O=(0,Z.v9)((function(e){return e.productList})),A=O.product,G=O.loading,L=O.error,E=(0,Z.I0)(),q=(0,m.UO)(),z=(0,Z.v9)((function(e){return e.userAuth})).userInfo,J=(0,Z.v9)((function(e){return e.productReviewCreate})),D=J.success,F=J.error;(0,a.useEffect)((function(){E((0,v.tC)()),D&&(alert("Review Submitted!"),k(0),R("")),E((0,v._0)(q.id))}),[q,E,D]);var K=(0,m.s0)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Link,{to:"/",className:"btn btn-dark my-2",children:"Go back"}),G?(0,b.jsx)(p.Z,{}):L?(0,b.jsxs)(j.Z,{variant:"danger",children:["error...",L]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(s.Z,{md:6,children:(0,b.jsx)(o.Z,{src:A.image,alt:A.name,fluid:!0})}),(0,b.jsx)(s.Z,{md:3,children:(0,b.jsxs)(u.Z,{variant:"flush",children:[(0,b.jsx)(u.Z.Item,{children:(0,b.jsx)("h3",{children:A.name})}),(0,b.jsx)(u.Z.Item,{children:(0,b.jsx)(f.Z,{rating:A.rating,reviews:"".concat(A.numReviews," reviews")})}),(0,b.jsxs)(u.Z.Item,{children:["Price: $",A.price]}),(0,b.jsxs)(u.Z.Item,{children:["Description: ",A.description]})]})}),(0,b.jsx)(s.Z,{md:3,children:(0,b.jsx)(l.Z,{children:(0,b.jsxs)(u.Z,{variant:"flush",children:[(0,b.jsx)(u.Z.Item,{children:(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(s.Z,{children:"Price:"}),(0,b.jsx)(s.Z,{children:(0,b.jsxs)("strong",{children:["$",A.price]})})]})}),(0,b.jsx)(u.Z.Item,{children:(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(s.Z,{children:"Status"}),(0,b.jsx)(s.Z,{children:A.countInStock>0?"In Stock":"Out Of Stock"})]})}),A.countInStock>0&&(0,b.jsx)(u.Z.Item,{children:(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(s.Z,{children:"Qty"}),(0,b.jsx)(s.Z,{children:(0,b.jsx)(d.Z.Control,{as:"select",value:r,onChange:function(e){return I(e.target.value)},children:(0,t.Z)(Array(A.countInStock).keys()).map((function(e){return(0,b.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),(0,b.jsx)(u.Z.Item,{className:"d-grid",children:(0,b.jsx)(h.Z,{onClick:function(e){E((0,g.Xq)(q.id,r)),K("/cart")},type:"button",disabled:0===A.countInStock,children:"Add To Cart"})})]})})})]}),(0,b.jsx)(c.Z,{children:(0,b.jsxs)(s.Z,{md:6,children:[(0,b.jsx)("h2",{children:"Reviews"}),0===A.reviews.length&&(0,b.jsx)(j.Z,{children:"No Reviews"}),(0,b.jsxs)(u.Z,{variant:"flush",children:[A.reviews.map((function(e){return(0,b.jsxs)(u.Z.Item,{children:[(0,b.jsx)("strong",{children:e.name}),(0,b.jsx)(f.Z,{rating:e.rating}),(0,b.jsx)("p",{children:e.createdAt.substring(0,10)}),(0,b.jsx)("p",{children:e.comment})]},e._id)})),(0,b.jsxs)(u.Z.Item,{children:[(0,b.jsx)("h2",{children:"Write a Customer Review"}),F&&(0,b.jsx)(j.Z,{variant:"danger",children:F}),z?(0,b.jsxs)(d.Z,{onSubmit:function(e){e.preventDefault(),E((0,v.nE)(q.id,{rating:y,comment:P}))},children:[(0,b.jsxs)(d.Z.Group,{controlId:"rating",children:[(0,b.jsx)(d.Z.Label,{children:"Rating"}),(0,b.jsxs)(d.Z.Control,{as:"select",value:y,onChange:function(e){return k(e.target.value)},children:[(0,b.jsx)("option",{value:"",children:"Select..."}),(0,b.jsx)("option",{value:"1",children:"1 - Poor"}),(0,b.jsx)("option",{value:"2",children:"2 - Fair"}),(0,b.jsx)("option",{value:"3",children:"3 - Good"}),(0,b.jsx)("option",{value:"4",children:"4 - Very Good"}),(0,b.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),(0,b.jsxs)(d.Z.Group,{controlId:"comment",children:[(0,b.jsx)(d.Z.Label,{children:"Comment"}),(0,b.jsx)(d.Z.Control,{as:"textarea",row:"3",value:P,onChange:function(e){return R(e.target.value)}})]}),(0,b.jsx)(h.Z,{type:"submit",variant:"primary",children:"Submit"})]}):(0,b.jsxs)(j.Z,{children:["Please ",(0,b.jsx)(x.Link,{to:"/login",children:"sign in"})," to write a review"," "]})]})]})]})})]})]})}},2592:function(e,n,r){var t=r(1413),i=r(5987),a=r(1694),c=r.n(a),s=r(2791),o=r(2007),u=r.n(o),l=r(162),d=r(184),h=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],f=(u().string,u().bool,u().bool,u().bool,u().bool,s.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,s=e.fluid,o=e.rounded,u=e.roundedCircle,f=e.thumbnail,m=(0,i.Z)(e,h);return r=(0,l.vE)(r,"img"),(0,d.jsx)("img",(0,t.Z)((0,t.Z)({ref:n},m),{},{className:c()(a,s&&"".concat(r,"-fluid"),o&&"rounded",u&&"rounded-circle",f&&"".concat(r,"-thumbnail"))}))})));f.displayName="Image",f.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},n.Z=f},1398:function(e,n,r){r.d(n,{Z:function(){return b}});var t=r(1413),i=r(5987),a=r(1694),c=r.n(a),s=r(2791),o=(r(2391),r(239)),u=r(1337),l=r(162),d=r(885),h=r(9007),f=r(4787),m=r(8633),x=r(184),v=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],Z=s.forwardRef((function(e,n){var r=e.bsPrefix,a=e.active,s=e.disabled,o=e.eventKey,u=e.className,Z=e.variant,p=e.action,j=e.as,g=(0,i.Z)(e,v);r=(0,l.vE)(r,"list-group-item");var b=(0,f.v)((0,t.Z)({key:(0,m.h)(o,g.href),active:a},g)),I=(0,d.Z)(b,2),S=I[0],w=I[1],y=(0,h.Z)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();S.onClick(e)}));s&&void 0===g.tabIndex&&(g.tabIndex=-1,g["aria-disabled"]=!0);var k=j||(p?g.href?"a":"button":"div");return(0,x.jsx)(k,(0,t.Z)((0,t.Z)((0,t.Z)({ref:n},g),S),{},{onClick:y,className:c()(u,r,w.isActive&&"active",s&&"disabled",Z&&"".concat(r,"-").concat(Z),p&&"".concat(r,"-action"))}))}));Z.displayName="ListGroupItem";var p=Z,j=["className","bsPrefix","variant","horizontal","numbered","as"],g=s.forwardRef((function(e,n){var r,a=(0,o.Ch)(e,{activeKey:"onSelect"}),s=a.className,d=a.bsPrefix,h=a.variant,f=a.horizontal,m=a.numbered,v=a.as,Z=void 0===v?"div":v,p=(0,i.Z)(a,j),g=(0,l.vE)(d,"list-group");return f&&(r=!0===f?"horizontal":"horizontal-".concat(f)),(0,x.jsx)(u.Z,(0,t.Z)((0,t.Z)({ref:n},p),{},{as:Z,className:c()(s,g,h&&"".concat(g,"-").concat(h),r&&"".concat(g,"-").concat(r),m&&"".concat(g,"-numbered"))}))}));g.displayName="ListGroup";var b=Object.assign(g,{Item:p})}}]);
//# sourceMappingURL=796.8f4ec5e4.chunk.js.map