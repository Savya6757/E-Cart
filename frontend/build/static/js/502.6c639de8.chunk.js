"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[502],{3281:function(e,r,n){n.d(r,{Tk:function(){return h},_r:function(){return p},dC:function(){return l},nc:function(){return u},rt:function(){return f},s$:function(){return d},uw:function(){return o}});var t=n(4165),s=n(5861),a=n(108),i=n(4569),c=n.n(i),o=function(e){return function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n,s){var i,o,d,u,l;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=s(),o=i.userAuth.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},r.next=5,c().post("api/orders",e,d);case 5:u=r.sent,l=u.data,n(a.z.orderCreateSuccess({order:l})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(a.z.orderCreateFail({error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,n){return r.apply(this,arguments)}}()},d=function(e){return function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n,s){var i,o,d,u,l;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=s(),o=i.userAuth.userInfo,d={headers:{Authorization:"Bearer ".concat(o.token)}},r.next=5,c().get("/api/orders/".concat(e),d);case 5:u=r.sent,l=u.data,n(a.oN.orderDetailsSuccess({order:l})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(a.oN.orderDetailsFail({error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,n){return r.apply(this,arguments)}}()},u=function(){return function(e){e(a.z.orderReset({}))}},l=function(){return function(e){e(a.oN.orderReset({}))}},h=function(){return function(e){e(a.po.orderReset({}))}},p=function(e){return function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n,s){var i,o,d,u,l;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=s(),o=i.userAuth.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},r.next=5,c().put("/api/orders/".concat(e,"/pay"),{},d);case 5:u=r.sent,l=u.data,n(a.po.orderPaySuccess({order:l})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(a.po.orderPayFail({error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,n){return r.apply(this,arguments)}}()},f=function(){return function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r,n){var s,i,o,d,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=n(),i=s.userAuth.userInfo,o={headers:{Authorization:"Bearer ".concat(i.token)}},e.next=5,c().get("/api/orders/myorders",o);case 5:d=e.sent,u=d.data,r(a.ox.orderListSuccess({orders:u})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r(a.ox.orderListFail({error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r,n){return e.apply(this,arguments)}}()}},2502:function(e,r,n){n.r(r);var t=n(2791),s=n(3504),a=n(9743),i=n(2677),c=n(1398),o=n(2592),d=n(9140),u=n(3360),l=n(9434),h=n(7624),p=n(4694),f=n(3281),x=n(6871),m=n(184);r.default=function(){var e=(0,x.UO)().id,r=(0,l.v9)((function(e){return e.orderDetails})),n=r.order,Z=r.loading,v=r.error,j=(0,l.I0)(),g=(0,l.v9)((function(e){return e.orderPay})).success;(0,t.useEffect)((function(){n&&!g||(j((0,f.s$)(e)),j((0,f.Tk)()))}),[n,e,j,g]);return Z?(0,m.jsx)(p.Z,{}):v?(0,m.jsx)(h.Z,{variant:"danger",children:v}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h1",{children:["Order ",n._id]}),(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(i.Z,{md:8,children:(0,m.jsxs)(c.Z,{variant:"flush",children:[(0,m.jsxs)(c.Z.Item,{children:[(0,m.jsx)("h2",{children:"Shipping"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Name: "})," ",n.user.name]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Email: "})," ",(0,m.jsx)("a",{href:"mailto:".concat(n.user.email),children:n.user.email})]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Address:"}),n.shippingAddress.address,", ",n.shippingAddress.city," ",n.shippingAddress.postalCode,", ",n.shippingAddress.country]}),n.isDelivered?(0,m.jsxs)(h.Z,{variant:"success",children:["Delivered on ",n.deliveredAt]}):(0,m.jsx)(h.Z,{variant:"danger",children:"Not Delivered"})]}),(0,m.jsxs)(c.Z.Item,{children:[(0,m.jsx)("h2",{children:"Payment Method"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Method: "}),n.paymentMethod]}),n.isPaid?(0,m.jsxs)(h.Z,{variant:"success",children:["Paid on ",n.paidAt]}):(0,m.jsx)(h.Z,{variant:"danger",children:"Not Paid"})]}),(0,m.jsxs)(c.Z.Item,{children:[(0,m.jsx)("h2",{children:"Order Items"}),0===n.orderItems.length?(0,m.jsx)(h.Z,{children:"Order is empty"}):(0,m.jsx)(c.Z,{variant:"flush",children:n.orderItems.map((function(e,r){return(0,m.jsx)(c.Z.Item,{children:(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(i.Z,{md:1,children:(0,m.jsx)(o.Z,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),(0,m.jsx)(i.Z,{children:(0,m.jsx)(s.Link,{to:"/product/".concat(e.product),children:e.name})}),(0,m.jsxs)(i.Z,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},r)}))})]})]})}),(0,m.jsx)(i.Z,{md:4,children:(0,m.jsx)(d.Z,{children:(0,m.jsxs)(c.Z,{variant:"flush",children:[(0,m.jsx)(c.Z.Item,{children:(0,m.jsx)("h2",{children:"Order Summary"})}),(0,m.jsx)(c.Z.Item,{children:(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(i.Z,{children:"Items"}),(0,m.jsxs)(i.Z,{children:["$",n.itemsPrice]})]})}),(0,m.jsx)(c.Z.Item,{children:(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(i.Z,{children:"Shipping"}),(0,m.jsxs)(i.Z,{children:["$",n.shippingPrice]})]})}),(0,m.jsx)(c.Z.Item,{children:(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(i.Z,{children:"Tax"}),(0,m.jsxs)(i.Z,{children:["$",n.taxPrice]})]})}),(0,m.jsx)(c.Z.Item,{children:(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(i.Z,{children:"Total"}),(0,m.jsxs)(i.Z,{children:["$",n.totalPrice]})]})}),(0,m.jsx)(u.Z,{onClick:function(){j((0,f._r)(e))},children:"Pay Now"})]})})})]})]})}},2592:function(e,r,n){var t=n(1413),s=n(5987),a=n(1694),i=n.n(a),c=n(2791),o=n(2007),d=n.n(o),u=n(162),l=n(184),h=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],p=(d().string,d().bool,d().bool,d().bool,d().bool,c.forwardRef((function(e,r){var n=e.bsPrefix,a=e.className,c=e.fluid,o=e.rounded,d=e.roundedCircle,p=e.thumbnail,f=(0,s.Z)(e,h);return n=(0,u.vE)(n,"img"),(0,l.jsx)("img",(0,t.Z)((0,t.Z)({ref:r},f),{},{className:i()(a,c&&"".concat(n,"-fluid"),o&&"rounded",d&&"rounded-circle",p&&"".concat(n,"-thumbnail"))}))})));p.displayName="Image",p.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},r.Z=p},1398:function(e,r,n){n.d(r,{Z:function(){return b}});var t=n(1413),s=n(5987),a=n(1694),i=n.n(a),c=n(2791),o=(n(2391),n(239)),d=n(1337),u=n(162),l=n(885),h=n(9007),p=n(4787),f=n(8633),x=n(184),m=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],Z=c.forwardRef((function(e,r){var n=e.bsPrefix,a=e.active,c=e.disabled,o=e.eventKey,d=e.className,Z=e.variant,v=e.action,j=e.as,g=(0,s.Z)(e,m);n=(0,u.vE)(n,"list-group-item");var b=(0,p.v)((0,t.Z)({key:(0,f.h)(o,g.href),active:a},g)),y=(0,l.Z)(b,2),k=y[0],I=y[1],P=(0,h.Z)((function(e){if(c)return e.preventDefault(),void e.stopPropagation();k.onClick(e)}));c&&void 0===g.tabIndex&&(g.tabIndex=-1,g["aria-disabled"]=!0);var N=j||(v?g.href?"a":"button":"div");return(0,x.jsx)(N,(0,t.Z)((0,t.Z)((0,t.Z)({ref:r},g),k),{},{onClick:P,className:i()(d,n,I.isActive&&"active",c&&"disabled",Z&&"".concat(n,"-").concat(Z),v&&"".concat(n,"-action"))}))}));Z.displayName="ListGroupItem";var v=Z,j=["className","bsPrefix","variant","horizontal","numbered","as"],g=c.forwardRef((function(e,r){var n,a=(0,o.Ch)(e,{activeKey:"onSelect"}),c=a.className,l=a.bsPrefix,h=a.variant,p=a.horizontal,f=a.numbered,m=a.as,Z=void 0===m?"div":m,v=(0,s.Z)(a,j),g=(0,u.vE)(l,"list-group");return p&&(n=!0===p?"horizontal":"horizontal-".concat(p)),(0,x.jsx)(d.Z,(0,t.Z)((0,t.Z)({ref:r},v),{},{as:Z,className:i()(c,g,h&&"".concat(g,"-").concat(h),n&&"".concat(g,"-").concat(n),f&&"".concat(g,"-numbered"))}))}));g.displayName="ListGroup";var b=Object.assign(g,{Item:v})}}]);
//# sourceMappingURL=502.6c639de8.chunk.js.map