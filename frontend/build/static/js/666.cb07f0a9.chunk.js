"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[666],{3281:function(e,r,n){n.d(r,{Tk:function(){return p},_r:function(){return h},dC:function(){return l},nc:function(){return u},rt:function(){return f},s$:function(){return d},uw:function(){return i}});var t=n(4165),s=n(5861),a=n(108),o=n(4569),c=n.n(o),i=function(e){return function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n,s){var o,i,d,u,l;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=s(),i=o.userAuth.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},r.next=5,c().post("api/orders",e,d);case 5:u=r.sent,l=u.data,n(a.z.orderCreateSuccess({order:l})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(a.z.orderCreateFail({error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,n){return r.apply(this,arguments)}}()},d=function(e){return function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n,s){var o,i,d,u,l;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=s(),i=o.userAuth.userInfo,d={headers:{Authorization:"Bearer ".concat(i.token)}},r.next=5,c().get("/api/orders/".concat(e),d);case 5:u=r.sent,l=u.data,n(a.oN.orderDetailsSuccess({order:l})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(a.oN.orderDetailsFail({error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,n){return r.apply(this,arguments)}}()},u=function(){return function(e){e(a.z.orderReset({}))}},l=function(){return function(e){e(a.oN.orderReset({}))}},p=function(){return function(e){e(a.po.orderReset({}))}},h=function(e){return function(){var r=(0,s.Z)((0,t.Z)().mark((function r(n,s){var o,i,d,u,l;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=s(),i=o.userAuth.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},r.next=5,c().put("/api/orders/".concat(e,"/pay"),{},d);case 5:u=r.sent,l=u.data,n(a.po.orderPaySuccess({order:l})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(a.po.orderPayFail({error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,n){return r.apply(this,arguments)}}()},f=function(){return function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r,n){var s,o,i,d,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=n(),o=s.userAuth.userInfo,i={headers:{Authorization:"Bearer ".concat(o.token)}},e.next=5,c().get("/api/orders/myorders",i);case 5:d=e.sent,u=d.data,r(a.ox.orderListSuccess({orders:u})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r(a.ox.orderListFail({error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r,n){return e.apply(this,arguments)}}()}},6666:function(e,r,n){n.r(r),n.d(r,{default:function(){return C}});var t=n(885),s=n(2791),a=n(1413),o=n(5987),c=n(1694),i=n.n(c),d=n(162),u=n(184),l=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],p=s.forwardRef((function(e,r){var n=e.bsPrefix,t=e.className,s=e.striped,c=e.bordered,p=e.borderless,h=e.hover,f=e.size,x=e.variant,v=e.responsive,m=(0,o.Z)(e,l),j=(0,d.vE)(n,"table"),Z=i()(t,j,x&&"".concat(j,"-").concat(x),f&&"".concat(j,"-").concat(f),s&&"".concat(j,"-striped"),c&&"".concat(j,"-bordered"),p&&"".concat(j,"-borderless"),h&&"".concat(j,"-hover")),g=(0,u.jsx)("table",(0,a.Z)((0,a.Z)({},m),{},{className:Z,ref:r}));if(v){var b="".concat(j,"-responsive");return"string"===typeof v&&(b="".concat(b,"-").concat(v)),(0,u.jsx)("div",{className:b,children:g})}return g})),h=n(9743),f=n(2677),x=n(3855),v=n(3360),m=n(1564),j=n(9434),Z=n(7624),g=n(4694),b=n(7489),w=n(6871),y=n(3281),C=function(){var e=(0,s.useState)(""),r=(0,t.Z)(e,2),n=r[0],a=r[1],o=(0,s.useState)(""),c=(0,t.Z)(o,2),i=c[0],d=c[1],l=(0,s.useState)(""),C=(0,t.Z)(l,2),k=C[0],A=C[1],I=(0,s.useState)(""),N=(0,t.Z)(I,2),P=N[0],D=N[1],E=(0,s.useState)(null),L=(0,t.Z)(E,2),S=L[0],z=L[1],T=(0,j.I0)(),_=(0,j.v9)((function(e){return e.userDetails})),R=_.loading,B=_.error,F=_.user,G=(0,j.v9)((function(e){return e.userAuth})),U=G.userInfo,M=G.success,O=(0,j.v9)((function(e){return e.orderList})),J=O.loading,V=O.error,$=O.orders,q=(0,w.s0)();(0,s.useEffect)((function(){U?F.name?(a(F.name),d(F.email)):(T((0,y.dC)()),T((0,b.M_)("profile")),T((0,y.rt)())):q("/login")}),[T,U,F,q]);return(0,u.jsxs)(h.Z,{children:[(0,u.jsxs)(f.Z,{md:4,children:[(0,u.jsx)("h2",{children:"User Profile"}),S&&(0,u.jsx)(Z.Z,{variant:"danger",children:S}),B&&(0,u.jsx)(Z.Z,{variant:"danger",children:B}),M&&(0,u.jsx)(Z.Z,{variant:"success",children:"Profile Updated"}),R&&(0,u.jsx)(g.Z,{}),(0,u.jsxs)(x.Z,{onSubmit:function(e){e.preventDefault(),k!==P?z("Passwords do not match"):T((0,b.Lj)({id:F._id,name:n,email:i,password:k}))},children:[(0,u.jsxs)(x.Z.Group,{controlId:"name",children:[(0,u.jsx)(x.Z.Label,{children:"Name"}),(0,u.jsx)(x.Z.Control,{type:"name",placeholder:"Enter name",value:n,onChange:function(e){return a(e.target.value)}})]}),(0,u.jsxs)(x.Z.Group,{controlId:"email",children:[(0,u.jsx)(x.Z.Label,{children:"Email Address"}),(0,u.jsx)(x.Z.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return d(e.target.value)}})]}),(0,u.jsxs)(x.Z.Group,{controlId:"password",children:[(0,u.jsx)(x.Z.Label,{children:"New Password"}),(0,u.jsx)(x.Z.Control,{type:"password",placeholder:"Enter password",value:k,onChange:function(e){return A(e.target.value)}})]}),(0,u.jsxs)(x.Z.Group,{controlId:"confirmPassword",children:[(0,u.jsx)(x.Z.Label,{children:"Confirm Password"}),(0,u.jsx)(x.Z.Control,{type:"password",placeholder:"Confirm password",value:P,onChange:function(e){return D(e.target.value)}})]}),(0,u.jsx)(v.Z,{type:"submit",variant:"primary",children:"Update"})]})]}),(0,u.jsxs)(f.Z,{md:8,children:[(0,u.jsx)("h2",{children:"My Orders"}),J?(0,u.jsx)(g.Z,{}):V?(0,u.jsx)(Z.Z,{variant:"danger",children:V}):(0,u.jsxs)(p,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"ID"}),(0,u.jsx)("th",{children:"DATE"}),(0,u.jsx)("th",{children:"TOTAL"}),(0,u.jsx)("th",{children:"PAID"}),(0,u.jsx)("th",{children:"DELIVERED"}),(0,u.jsx)("th",{})]})}),(0,u.jsx)("tbody",{children:$.map((function(e){return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:e._id}),(0,u.jsx)("td",{children:e.createdAt.substring(0,10)}),(0,u.jsx)("td",{children:e.totalPrice}),(0,u.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):(0,u.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),(0,u.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):(0,u.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),(0,u.jsx)("td",{children:(0,u.jsx)(m.J,{to:"/order/".concat(e._id),children:(0,u.jsx)(v.Z,{className:"btn-sm",variant:"light",children:"Details"})})})]},e._id)}))})]})]})]})}}}]);
//# sourceMappingURL=666.cb07f0a9.chunk.js.map