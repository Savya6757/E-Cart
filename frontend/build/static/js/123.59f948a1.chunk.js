"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[123],{692:function(e,t,r){r.d(t,{BX:function(){return p},Xq:function(){return u},h2:function(){return i},p8:function(){return l},q7:function(){return d}});var n=r(4165),s=r(5861),a=r(2822),o=r(4569),c=r.n(o),u=function(e,t){return function(){var r=(0,s.Z)((0,n.Z)().mark((function r(s,o){var u,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c().get("/api/products/".concat(e));case 2:u=r.sent,i=u.data,s(a.S.addItem({item:{product:i._id,name:i.name,image:i.image,price:i.price,countInStock:i.countInStock,qty:t}})),localStorage.setItem("cartItems",JSON.stringify(o().cartItems.items));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},i=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r,s){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(a.S.removeItem({product:e})),localStorage.setItem("cartItems",JSON.stringify(s().cartItems.items));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(a.S.saveShippingAddress({data:e})),localStorage.setItem("shippingAddress",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(a.S.savePaymentMethod({data:e})),localStorage.setItem("paymentMethod",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(a.S.calculateTotal({}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},3281:function(e,t,r){r.d(t,{Tk:function(){return l},_r:function(){return f},dC:function(){return p},nc:function(){return d},rt:function(){return h},s$:function(){return i},uw:function(){return u}});var n=r(4165),s=r(5861),a=r(108),o=r(4569),c=r.n(o),u=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r,s){var o,u,i,d,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=s(),u=o.userAuth.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)}},t.next=5,c().post("api/orders",e,i);case 5:d=t.sent,p=d.data,r(a.z.orderCreateSuccess({order:p})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(a.z.orderCreateFail({error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()},i=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r,s){var o,u,i,d,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=s(),u=o.userAuth.userInfo,i={headers:{Authorization:"Bearer ".concat(u.token)}},t.next=5,c().get("/api/orders/".concat(e),i);case 5:d=t.sent,p=d.data,r(a.oN.orderDetailsSuccess({order:p})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(a.oN.orderDetailsFail({error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()},d=function(){return function(e){e(a.z.orderReset({}))}},p=function(){return function(e){e(a.oN.orderReset({}))}},l=function(){return function(e){e(a.po.orderReset({}))}},f=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r,s){var o,u,i,d,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=s(),u=o.userAuth.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)}},t.next=5,c().put("/api/orders/".concat(e,"/pay"),{},i);case 5:d=t.sent,p=d.data,r(a.po.orderPaySuccess({order:p})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(a.po.orderPayFail({error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()},h=function(){return function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t,r){var s,o,u,i,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=r(),o=s.userAuth.userInfo,u={headers:{Authorization:"Bearer ".concat(o.token)}},e.next=5,c().get("/api/orders/myorders",u);case 5:i=e.sent,d=i.data,t(a.ox.orderListSuccess({orders:d})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t(a.ox.orderListFail({error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()}},2107:function(e,t,r){r(2791);var n=r(3666),s=r(1564),a=r(184);t.Z=function(e){var t=e.step1,r=e.step2,o=e.step3,c=e.step4;return(0,a.jsxs)(n.Z,{className:"justify-content-center mb-4",children:[(0,a.jsx)(n.Z.Item,{children:t?(0,a.jsx)(s.J,{to:"/login",children:(0,a.jsx)(n.Z.Link,{children:"Sign In"})}):(0,a.jsx)(n.Z.Link,{disabled:!0,children:"Sign In"})}),(0,a.jsx)(n.Z.Item,{children:r?(0,a.jsx)(s.J,{to:"/shipping",children:(0,a.jsx)(n.Z.Link,{children:"Shipping"})}):(0,a.jsx)(n.Z.Link,{disabled:!0,children:"Shipping"})}),(0,a.jsx)(n.Z.Item,{children:o?(0,a.jsx)(s.J,{to:"/payment",children:(0,a.jsx)(n.Z.Link,{children:"Payment"})}):(0,a.jsx)(n.Z.Link,{disabled:!0,children:"Payment"})}),(0,a.jsx)(n.Z.Item,{children:c?(0,a.jsx)(s.J,{to:"/placeorder",children:(0,a.jsx)(n.Z.Link,{children:"Place Order"})}):(0,a.jsx)(n.Z.Link,{disabled:!0,children:"Place Order"})})]})}},5524:function(e,t,r){var n=r(7022),s=r(9743),a=r(2677),o=r(184);t.Z=function(e){var t=e.children;return(0,o.jsx)(n.Z,{children:(0,o.jsx)(s.Z,{className:"justify-content-md-center",children:(0,o.jsx)(a.Z,{xs:12,md:6,children:t})})})}},7123:function(e,t,r){r.r(t);var n=r(885),s=r(2791),a=r(3855),o=r(3360),c=r(9434),u=r(5524),i=r(2107),d=r(692),p=r(6871),l=r(3281),f=r(184);t.default=function(e){e.history;var t=(0,c.v9)((function(e){return e.cartItems})).shippingAddress,r=(0,s.useState)(t.address),h=(0,n.Z)(r,2),Z=h[0],x=h[1],m=(0,s.useState)(t.city),v=(0,n.Z)(m,2),y=v[0],g=v[1],j=(0,s.useState)(t.postalCode),k=(0,n.Z)(j,2),S=k[0],I=k[1],C=(0,s.useState)(t.country),w=(0,n.Z)(C,2),b=w[0],L=w[1],A=(0,c.I0)(),N=(0,p.s0)();(0,s.useEffect)((function(){A((0,l.dC)()),A((0,l.nc)())}),[A]);return(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(i.Z,{step1:!0,step2:!0}),(0,f.jsx)("h1",{children:"Shipping"}),(0,f.jsxs)(a.Z,{onSubmit:function(e){e.preventDefault(),A((0,d.q7)({address:Z,city:y,postalCode:S,country:b})),N("/payment")},children:[(0,f.jsxs)(a.Z.Group,{controlId:"address",children:[(0,f.jsx)(a.Z.Label,{children:"Address"}),(0,f.jsx)(a.Z.Control,{type:"text",placeholder:"Enter address",value:Z,required:!0,onChange:function(e){return x(e.target.value)}})]}),(0,f.jsxs)(a.Z.Group,{controlId:"city",children:[(0,f.jsx)(a.Z.Label,{children:"City"}),(0,f.jsx)(a.Z.Control,{type:"text",placeholder:"Enter city",value:y,required:!0,onChange:function(e){return g(e.target.value)}})]}),(0,f.jsxs)(a.Z.Group,{controlId:"postalCode",children:[(0,f.jsx)(a.Z.Label,{children:"Postal Code"}),(0,f.jsx)(a.Z.Control,{type:"text",placeholder:"Enter postal code",value:S,required:!0,onChange:function(e){return I(e.target.value)}})]}),(0,f.jsxs)(a.Z.Group,{controlId:"country",children:[(0,f.jsx)(a.Z.Label,{children:"Country"}),(0,f.jsx)(a.Z.Control,{type:"text",placeholder:"Enter country",value:b,required:!0,onChange:function(e){return L(e.target.value)}})]}),(0,f.jsx)(o.Z,{type:"submit",variant:"primary",children:"Continue"})]})]})}}}]);
//# sourceMappingURL=123.59f948a1.chunk.js.map